{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/services/audio.js","webpack:///./src/App.vue?d00d","webpack:///./src/App.vue","webpack:///./src/api/http.js","webpack:///./src/services/axios.js","webpack:///./src/components/Settings.vue?223b","webpack:///./src/components/Settings.vue","webpack:///src/components/Settings.vue","webpack:///./src/services/actionMixin.js","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?f0fb","webpack:///./src/components/Home.vue","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?df8f","webpack:///./src/components/List.vue","webpack:///./src/router.js","webpack:///./src/api/mock.js","webpack:///./src/services/filters.js","webpack:///./src/main.js"],"names":["App_socket","audio","scan","Audio","audioFolder","ready","toggle","update","play","snd","this","currentTime","App","_this","autoconnect","data","toggleConnect","val","fullscreen","reload","_this2","resp","_this3","close","url","e","m","alert","master","slave","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","class","ws","disableDemo","attrs","id","staticClass","toggleable","type","target","on","click","$event","showAlert","_e","_v","$root","toggleFullScreen","to","text-success","isRooms","text-muted","directives","name","rawName","modifiers","communicate","isOpen","value","expression","_s","user","hideFake","visible","title","header-text-variant","no-fade","hide-footer","hide-backdrop","hide","preventDefault","height","src","size","placeholder","model","callback","$$v","$set","is-text","label","emulateFake","adaptTemp","muteSound","error","message","slot","button-variant","variant","mustReload","dismissible","show","showDoor","dismissed","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","localStorage","getItem","setItem","location","host","$http","axios_default","a","create","baseURL","protocol","services_axios","install","Vue","Object","defineProperty","prototype","components_Settings","_m","src_components_Settings","Settings_normalizeComponent","actionMixin","vue_esm","mixin","methods","sendAction","obj","register","Math","abs","window","unwrap","newVal","console","log","get","then","catch","Home","meta","components_Home","deck","no-body","cols","others","bell","text-enable","unstatus","unvalue","alarm","_f","meters","_l","g","k","key","enabled","light","toggled","disabled","align","pir","temp","humidity","fire","leak","valve","src_components_Home","Home_normalizeComponent","List","newvalue","oldVal","components_List","bus","s","reg","r","includes","split","fake","Zmousedown","Zmouseup","data-newvalue","duration","enter","mode","leave","src_components_List","List_normalizeComponent","use","vue_router_esm","$mockServer","src_router","routes","path","component","isPublic","redirect","linkActiveClass","onError","src_default","onGet","reply","cfg","onAny","mock_socket","WebSocket","socket","clearInterval","interval","setInterval","slaves","keys_default","randSlave","random","length","regs","randReg","_json","send","stringify_default","demo","min","max","floor","numeral_default","localeData","delimiters","thousands","filter","toLocaleString","year","month","day","initCap","hour","minute","format","String","toLowerCase","replace","toUpperCase","subtype","powerValue","powerCnt","coldValue","coldCnt","hotValue","hotCnt","v","i","toFixed","ceil","es","config","productionTip","$resetData","emit","$options","assign_default","$data","call","$emit","$_clone","$","document","querySelector","$ArrayRemoveElement","arr","item","index","indexOf","splice","el","created","addEventListener","read","mounted","watch","beforeDestroy","removeEventListener","router","isNaN","detail","fullScreenElement","mozFullScreen","webkitIsFullScreen","documentElement","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","h"],"mappings":"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","file":"static/js/app.405e3e5bd3747ea12043.js","sourcesContent":["<template lang=\"pug\">\r\ndoctype html\r\n\r\n#app(:class=\"[(!ws.disableDemo?'demo':''),(fullscreen?'nocursor':'')]\")\r\n\r\n  b-navbar.bd-navbar(toggleable=\"md\" type=\"dark\")\r\n\r\n    b-nav-toggle(target=\"nav_collapse\")\r\n\r\n    b-navbar-brand(@click=\"showAlert='с 14:00 по 18:00 будут профилактические работы'\")\r\n      .logo\r\n      b-badge(v-if=\"!ws.disableDemo\") DEMO\r\n    b-navbar-brand(@click=\"$root.toggleFullScreen()\").w100 SMARTHOME\r\n\r\n\r\n    //- b-navbar-nav.ml-2\r\n      //- b-nav-form\r\n        //- b-button(size=\"sm\" :variant=\"masterState?'':'danger'\" :pressed.sync=\"masterState\") \r\n          i.fa.fa-power-off.mr-1/\r\n          | {{masterState?'Выключить Все':'Снят с охраны'}}\r\n        //- b-button.ml-2(size=\"sm\" variant=\"\" @click=\"opendDoor\") \r\n          i.fa.fa-key/ \r\n          | Домофон\r\n        \r\n    //-   b-nav-item(to=\"/\") Панель\r\n    //-   b-nav-item(to=\"/\") Меню\r\n\r\n    b-navbar-nav.ml-auto\r\n      //- b-nav-item(v-b-modal.settings) API\r\n      b-nav-item(to=\"/home\") \r\n        span(:class=\"{'text-success':!isRooms,'text-muted':isRooms}\") \r\n          i.fa.fa-home/\r\n      b-nav-item(to=\"/list\") \r\n        span(:class=\"{'text-success':!isRooms,'text-muted':isRooms}\") \r\n          i.fa.fa-th/\r\n      b-nav-item(v-b-modal.communicate) \r\n        span(:class=\"{'text-success':ws.isOpen,'text-muted':!ws.isOpen}\") \r\n          i.fa.fa-gear/\r\n      b-nav-item(v-b-modal=\"'settings'\").ml-3 {{user}}\r\n      b-nav-item(@click=\"reload\")\r\n        i.fa.fa-user\r\n\r\n          \r\n  .mx-3.px-2.pt-2(:class=\"{'hideFake':hideFake}\")\r\n    router-view\r\n\r\n  //- code {{ws}}\r\n\r\n  b-modal#settings(v-if=\"showAlert!=null\" :visible=\"true\" title=\"BI SERVICE - ALERT\" header-text-variant=\"danger\" @hide.prevent=\"showAlert=null\" no-fade hide-footer hide-backdrop)\r\n    .text-center\r\n      h4 Внимание! \r\n      p {{showAlert}}\r\n      img(height=\"200\" src=\"static/maintenace.jpg\")\r\n\r\n  b-modal#communicate(title=\"Подключение\")\r\n\r\n    b-form-group\r\n      b-input-group\r\n        b-form-input(v-model=\"ws.url\" size=\"lg\" placeholder=\"Server ip:port\")\r\n        b-input-group-append(is-text) \r\n          span.mr-2 Auto\r\n          b-form-checkbox(v-model=\"ws.autoconnect\")\r\n      b-row.mt-3\r\n        b-col\r\n          b-form-group(label=\"Hide Fake\")\r\n            b-form-checkbox(v-model=\"hideFake\")\r\n            b-form-checkbox(v-model=\"emulateFake\")\r\n        b-col\r\n          b-form-group(label=\"Ajust Temp - 4, Mute\")\r\n            b-form-checkbox(v-model=\"adaptTemp\")\r\n            b-form-checkbox(v-model=\"muteSound\")\r\n              \r\n\r\n    b-list-group\r\n      b-list-group-item\r\n        p.text-danger(v-if=\"ws.error\") {{ws.error}}\r\n        code {{ws.message}}\r\n\r\n    template(slot=\"modal-footer\")\r\n      b-form-checkbox(button-variant=\"primary\" v-model=\"ws.disableDemo\") Disable Demo\r\n      b-btn(:variant=\"mustReload?'primary':''\" @click=\"reload\") Reload\r\n      b-btn(@click=\"toggleConnect\" :variant=\"ws.isOpen?'secondary':'primary'\") {{(!ws.isOpen?'Connect':'Disconnect')}}\r\n\r\n  \r\n  b-alert.bialert(\r\n      dismissible \r\n      variant=\"danger\" \r\n      :show=\"showDoor != null\"\r\n      @dismissed=\"showDoor = null\")\r\n      | Домофон \r\n      a.alert-link.ml-2 {{showDoor}}\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport sounds from '@/services/audio'\r\n\r\n\r\nvar socket;\r\n\r\nexport default {\r\n  name: 'app',\r\n  data(){\r\n    return {\r\n      user : 'CITY SEOUL ( КВ 51 )',\r\n      isRooms:true,\r\n      dismissCountDown: 10,\r\n      showDoor:null,\r\n      showAlert:null,\r\n      hideFake:false,\r\n      emulateFake:true,\r\n      masterState:true,\r\n      adaptTemp:false,\r\n      muteSound:false,\r\n      mustReload:false,\r\n      ws:{\r\n        isOpen : false,\r\n        start: false,\r\n        error: null,\r\n        message:'Here will be data',\r\n        disableDemo:localStorage.getItem('disableDemo')=== 'true'||false,\r\n        autoconnect:localStorage.getItem('autoconnect') === 'true'||false,\r\n        url:localStorage.getItem('url')\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    console.log('created',this.ws.autoconnect)\r\n    \r\n    /*axios.get('/static/data/data.json').then((resp)=>{\r\n      console.log('Data loaded',resp.data);\r\n      this.$root.data = resp.data;\r\n    });*/\r\n    // this.demo();\r\n    if(this.ws.disableDemo){\r\n      console.log('Disabling Demo'); \r\n    }\r\n\r\n    this.$http.get('/meta.json').then((resp)=>{\r\n      console.log('Metadata loaded',resp.data);\r\n      this.$root.meta=resp.data;\r\n      if(this.ws.autoconnect) this.toggleConnect();\r\n    }).catch(()=>{\r\n      this.showDoor = \"No meta.json found on server!\";\r\n    });\r\n    \r\n  },\r\n  watch:{\r\n    'ws.url'(val){\r\n      localStorage.setItem('url',val)\r\n      this.mustReload = true;\r\n    },\r\n    'ws.disableDemo'(val){\r\n      localStorage.setItem('disableDemo',val)\r\n      this.mustReload = true;\r\n    },\r\n    'emulateFake'(val){\r\n      this.$http.get('/fake/'+val).then((resp)=>{\r\n        console.log('toggleFake',resp.data)\r\n      });\r\n    },\r\n    'masterState'(val){\r\n      this.$http.get('/master/'+val).then((resp)=>{\r\n        console.log('toggleMaster',resp.data)\r\n      });\r\n    },\r\n    'ws.autoconnect'(val){\r\n      localStorage.setItem('autoconnect',val)\r\n      this.mustReload = true;\r\n    }\r\n  },\r\n  computed:{\r\n    fullscreen(){\r\n      return this.$root.fullscreen\r\n    },\r\n    data(){\r\n      return this.$root.data;\r\n    }\r\n  },\r\n  beforeDestroy(){\r\n    if(this.ws.isOpen) this.toggleConnect();\r\n  },\r\n  methods:{\r\n    reload(){\r\n      location.reload();\r\n    },\r\n    opendDoor(){\r\n      this.$http.get('/opendoor').then((resp)=>{\r\n          console.log(resp);\r\n          this.showDoor = resp.data;\r\n        }).catch(()=>{\r\n        });\r\n    },\r\n    toggleConnect(){\r\n      if(this.ws.isOpen){\r\n        socket.close();\r\n        this.ws.isOpen = false;\r\n        socket = null;\r\n      } else {\r\n        this.$http.get('/data.json').then((resp)=>{\r\n\r\n          this.$root.data = resp.data\r\n          this.ws.message = resp.data;\r\n\r\n          socket = null;\r\n          socket = new WebSocket('ws://'+this.ws.url);\r\n          socket.addEventListener('open', (e) => {\r\n            this.ws.isOpen = true\r\n            socket.send('/');\r\n          });\r\n          socket.addEventListener('error', (e) => {\r\n            console.error('error',e)\r\n            this.ws.error = e\r\n            this.ws.isOpen = false\r\n          });\r\n          socket.addEventListener('close', (e) => {\r\n            // console.log('close',e)\r\n            this.ws.isOpen = false\r\n          });\r\n          socket.addEventListener('message', (m) => {\r\n            // console.log('message',m)\r\n            if(!this.muteSound) sounds.play('update');\r\n\r\n            m = JSON.parse(m.data)\r\n            this.ws.message = m;\r\n\r\n            if(m.alert){\r\n              console.log('ALERT',m.alert);\r\n              this.showAlert = m.alert;\r\n            } else if(m.master){\r\n              console.log('MASTER',m.master);\r\n\r\n            } else {\r\n\r\n              Object.keys(m).forEach((slave)=>{\r\n                /*m[slave].forEach((val,j)=>{\r\n                  this.$root.data[slave][j] = val\r\n                });*/\r\n                this.$root.data[slave] = m[slave];\r\n              });\r\n\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\" src=\"./AppStyles.stylus\"/>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const audioFolder = 'static/audio/'\r\n\r\nexport default {\r\n  scan : new Audio(audioFolder+\"scan.mp3\"),\r\n  ready : new Audio(audioFolder+\"ready.mp3\"),\r\n  toggle : new Audio(audioFolder+\"clear.mp3\"),\r\n  update: new Audio(audioFolder+\"update.mp3\"),\r\n  play : function (snd){\r\n      this[snd].currentTime = 0\r\n      this[snd].play();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/audio.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[(!_vm.ws.disableDemo?'demo':''),(_vm.fullscreen?'nocursor':'')],attrs:{\"id\":\"app\"}},[_c('b-navbar',{staticClass:\"bd-navbar\",attrs:{\"toggleable\":\"md\",\"type\":\"dark\"}},[_c('b-nav-toggle',{attrs:{\"target\":\"nav_collapse\"}}),_c('b-navbar-brand',{on:{\"click\":function($event){_vm.showAlert='с 14:00 по 18:00 будут профилактические работы'}}},[_c('div',{staticClass:\"logo\"}),(!_vm.ws.disableDemo)?_c('b-badge',[_vm._v(\"DEMO\")]):_vm._e()],1),_c('b-navbar-brand',{staticClass:\"w100\",on:{\"click\":function($event){_vm.$root.toggleFullScreen()}}},[_vm._v(\"SMARTHOME\")]),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item',{attrs:{\"to\":\"/home\"}},[_c('span',{class:{'text-success':!_vm.isRooms,'text-muted':_vm.isRooms}},[_c('i',{staticClass:\"fa fa-home\"})])]),_c('b-nav-item',{attrs:{\"to\":\"/list\"}},[_c('span',{class:{'text-success':!_vm.isRooms,'text-muted':_vm.isRooms}},[_c('i',{staticClass:\"fa fa-th\"})])]),_c('b-nav-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.communicate\",modifiers:{\"communicate\":true}}]},[_c('span',{class:{'text-success':_vm.ws.isOpen,'text-muted':!_vm.ws.isOpen}},[_c('i',{staticClass:\"fa fa-gear\"})])]),_c('b-nav-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('settings'),expression:\"'settings'\"}],staticClass:\"ml-3\"},[_vm._v(_vm._s(_vm.user))]),_c('b-nav-item',{on:{\"click\":_vm.reload}},[_c('i',{staticClass:\"fa fa-user\"})])],1)],1),_c('div',{staticClass:\"mx-3 px-2 pt-2\",class:{'hideFake':_vm.hideFake}},[_c('router-view')],1),(_vm.showAlert!=null)?_c('b-modal',{attrs:{\"id\":\"settings\",\"visible\":true,\"title\":\"BI SERVICE - ALERT\",\"header-text-variant\":\"danger\",\"no-fade\":\"\",\"hide-footer\":\"\",\"hide-backdrop\":\"\"},on:{\"hide\":function($event){$event.preventDefault();_vm.showAlert=null}}},[_c('div',{staticClass:\"text-center\"},[_c('h4',[_vm._v(\"Внимание! \")]),_c('p',[_vm._v(_vm._s(_vm.showAlert))]),_c('img',{attrs:{\"height\":\"200\",\"src\":\"static/maintenace.jpg\"}})])]):_vm._e(),_c('b-modal',{attrs:{\"id\":\"communicate\",\"title\":\"Подключение\"}},[_c('b-form-group',[_c('b-input-group',[_c('b-form-input',{attrs:{\"size\":\"lg\",\"placeholder\":\"Server ip:port\"},model:{value:(_vm.ws.url),callback:function ($$v) {_vm.$set(_vm.ws, \"url\", $$v)},expression:\"ws.url\"}}),_c('b-input-group-append',{attrs:{\"is-text\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Auto\")]),_c('b-form-checkbox',{model:{value:(_vm.ws.autoconnect),callback:function ($$v) {_vm.$set(_vm.ws, \"autoconnect\", $$v)},expression:\"ws.autoconnect\"}})],1)],1),_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Hide Fake\"}},[_c('b-form-checkbox',{model:{value:(_vm.hideFake),callback:function ($$v) {_vm.hideFake=$$v},expression:\"hideFake\"}}),_c('b-form-checkbox',{model:{value:(_vm.emulateFake),callback:function ($$v) {_vm.emulateFake=$$v},expression:\"emulateFake\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Ajust Temp - 4, Mute\"}},[_c('b-form-checkbox',{model:{value:(_vm.adaptTemp),callback:function ($$v) {_vm.adaptTemp=$$v},expression:\"adaptTemp\"}}),_c('b-form-checkbox',{model:{value:(_vm.muteSound),callback:function ($$v) {_vm.muteSound=$$v},expression:\"muteSound\"}})],1)],1)],1)],1),_c('b-list-group',[_c('b-list-group-item',[(_vm.ws.error)?_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.ws.error))]):_vm._e(),_c('code',[_vm._v(_vm._s(_vm.ws.message))])])],1),_c('template',{slot:\"modal-footer\"},[_c('b-form-checkbox',{attrs:{\"button-variant\":\"primary\"},model:{value:(_vm.ws.disableDemo),callback:function ($$v) {_vm.$set(_vm.ws, \"disableDemo\", $$v)},expression:\"ws.disableDemo\"}},[_vm._v(\"Disable Demo\")]),_c('b-btn',{attrs:{\"variant\":_vm.mustReload?'primary':''},on:{\"click\":_vm.reload}},[_vm._v(\"Reload\")]),_c('b-btn',{attrs:{\"variant\":_vm.ws.isOpen?'secondary':'primary'},on:{\"click\":_vm.toggleConnect}},[_vm._v(_vm._s((!_vm.ws.isOpen?'Connect':'Disconnect')))])],1)],2),_c('b-alert',{staticClass:\"bialert\",attrs:{\"dismissible\":\"\",\"variant\":\"danger\",\"show\":_vm.showDoor != null},on:{\"dismissed\":function($event){_vm.showDoor = null}}},[_vm._v(\"Домофон \"),_c('a',{staticClass:\"alert-link ml-2\"},[_vm._v(_vm._s(_vm.showDoor))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0643f791\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0643f791\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!./AppStyles.stylus\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0643f791\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\r\n\r\nif (localStorage.getItem(\"url\") === null) {\r\n  localStorage.setItem('url',location.host);\r\n}\r\n\r\nexport const $http = axios.create({\r\n  baseURL: location.protocol + '//' + localStorage.getItem('url')\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/api/http.js","import {$http} from '@/api/http'\r\n\r\nexport default {\r\n  install: function(Vue,) {\r\n    Object.defineProperty(Vue.prototype, '$http', { value: $http });\r\n  }\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/axios.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-5\"},[_c('h5',[_vm._v(\"Settings\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4efd6c0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Settings.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4efd6c0e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4efd6c0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Settings.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\r\n.m-5\r\n  h5 Settings\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n  name: 'Settings',\r\n  data () {\r\n    return {\r\n      hid:null,\r\n    }\r\n  },\r\n  methods:{\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style  lang=\"stylus\">\r\n     \r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Settings.vue","import Vue from 'vue'\r\n\r\nexport default Vue.mixin({\r\n  methods: {\r\n    sendAction(obj){\r\n\r\n      if(!obj) { console.log('nothing to send'); return; }\r\n\r\n      var slave = obj[0];\r\n      var register = Math.abs(obj[1]);\r\n      var val = window.unwrap(obj,0,this.data);\r\n      var newVal = (val == 1) ? 0 : 1;\r\n\r\n      console.log('sendAction',slave,register,val+ '->'+ newVal)\r\n\r\n      this.$http.get(`/write/${slave}/${register}/${newVal}`).then(()=>{\r\n      // this.toggleConfirm(group,key,val);\r\n      // val.status = null\r\n      }).catch((e)=>{\r\n        console.error('sendAction with error',e);\r\n      // this.toggleError(group,key,val);\r\n      });\r\n    },\r\n    /*down(obj){\r\n\r\n      var slave = obj[0];\r\n      var register = Math.abs(obj[1]);\r\n      var value = window.unwrap(obj,0,this.data);\r\n\r\n      Vue.set(value,'status','progress');\r\n      console.log('down',value);\r\n    },\r\n    up(obj){\r\n\r\n      var slave = obj[0];\r\n      var register = Math.abs(obj[1]);\r\n      var value = window.unwrap(obj,0,this.data);\r\n\r\n      console.log('up');\r\n      if(value.type == 'TOGGLE')\r\n        value = false\r\n    },*/\r\n    /*toggleConfirm(group,key,value){\r\n      console.log('toggleConfirm');\r\n      this.devices[group][key].status = null\r\n    },\r\n    toggleError(group,key,value){\r\n      console.log('toggleError');\r\n      this.devices[group][key].status = 'error'\r\n      this.devices[group][key].value = (value == 0?1:0)\r\n      this.timeout(group,key);\r\n    },timeout(group,key){\r\n      window.clearTimeout(this.errortm);\r\n      this.errortm = window.setTimeout(()=>{\r\n        this.devices[group][key].status = null\r\n      }, 500);\r\n    },*/\r\n    \r\n  }\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/services/actionMixin.js","<template lang=\"pug\">\r\ndiv(v-if=\"meta\")\r\n  b-card-group.uyi.rooms.main(deck)\r\n\r\n    b-card(no-body)\r\n      b-card-body\r\n        b-row.display.p-2\r\n          b-col(cols=\"3\")\r\n              b-button.mb-2(\r\n                v-if=\"meta.others && meta.others.bell\"\r\n                size=\"lg\"\r\n                :class=\"{'text-enable':unstatus(meta.others.bell)}\" \r\n                @click=\"sendAction(meta.others.bell)\")\r\n                  | Звонок\r\n                  i.fa.fa-bell-slash.ml-2(v-if=\"unvalue(meta.others.bell)\")\r\n                  i.fa.fa-bell.ml-2(v-else)\r\n              b-btn.text-danger(size=\"lg\" \r\n                v-if=\"meta.others && meta.others.alarm && unvalue(meta.others.alarm)\"\r\n                @click=\"sendAction(meta.others.alarm)\")\r\n                | Сирена\r\n                i.fa.fa-bolt.ml-2/\r\n          b-col(cols=\"4\").w100\r\n              div\r\n                small Горячяя Вода \r\n              div\r\n                small Холодная Вода \r\n              div\r\n                small Электроэнергия\r\n              div\r\n                small Погода\r\n          b-col(cols=\"5\")\r\n              div\r\n                span.mr-2 {{meta.meters['Гор-Вода'] | unwrap(data) | money('hot')}}\r\n              div\r\n                span.mr-2 {{meta.meters['Хол-Вода'] | unwrap(data) | money('cold')}}\r\n              div\r\n                span.mr-2 {{meta.meters['Свет'] | unwrap(data) | money('power')}}\r\n              div\r\n                small.mr-2: i.fa.fa-snowflake-o\r\n                span.mr-2 -18° \r\n                small Холодно\r\n\r\n  b-card-group.uyi.rooms(deck)\r\n\r\n    b-card(\r\n        v-for=\"(g,k) in meta.rooms\"\r\n         @click=\"sendAction(g.light)\"\r\n         :key=\"k\"\r\n         :class=\"{'enabled':unstatus(g.light),'toggled':unvalue(g.light)}\"\r\n         :disabled=\"g.disabled\"\r\n         no-body\r\n         align=\"center\")\r\n      b-card-header \r\n        i.fa.fa-user-secret.mr-1(v-if=\"unvalue(g.pir)\")\r\n        | {{g.name}}\r\n      b-card-body\r\n        .display.pt-3\r\n          .temp(v-if=\"g.temp\") {{unvalue(g.temp) | numeric}}\r\n          .humidity(v-if=\"g.humidity\") {{unvalue(g.humidity)}}\r\n          .sensors.text-center\r\n            i.fa.fa-fire.text-danger.mr-1(v-if=\"unvalue(g.fire)\")/\r\n            i.fa.fa-tint.text-danger.mr-1(v-if=\"unvalue(g.leak)\")/\r\n            i.fa.fa-ban.text-danger.mr-1(v-if=\"unstatus(g.valve)\")/\r\n   \r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport actionMixin from '@/services/actionMixin'\r\n\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data(){\r\n    return {\r\n      home:{}\r\n    }\r\n  },\r\n  computed:{\r\n    unstatus(){\r\n      return (v) => window.unwrap(v,2,this.data)\r\n    },\r\n    unvalue(){\r\n      return (v) => window.unwrap(v,0,this.data)\r\n    },\r\n    meta(){\r\n      return this.$root.meta;\r\n    },\r\n    data(){\r\n      return this.$root.data;\r\n    }\r\n  },\r\n  mixins: [actionMixin]\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.meta)?_c('div',[_c('b-card-group',{staticClass:\"uyi rooms main\",attrs:{\"deck\":\"deck\"}},[_c('b-card',{attrs:{\"no-body\":\"no-body\"}},[_c('b-card-body',[_c('b-row',{staticClass:\"display p-2\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[(_vm.meta.others && _vm.meta.others.bell)?_c('b-button',{staticClass:\"mb-2\",class:{'text-enable':_vm.unstatus(_vm.meta.others.bell)},attrs:{\"size\":\"lg\"},on:{\"click\":function($event){_vm.sendAction(_vm.meta.others.bell)}}},[_vm._v(\"Звонок\"),(_vm.unvalue(_vm.meta.others.bell))?_c('i',{staticClass:\"fa fa-bell-slash ml-2\"}):_c('i',{staticClass:\"fa fa-bell ml-2\"})]):_vm._e(),(_vm.meta.others && _vm.meta.others.alarm && _vm.unvalue(_vm.meta.others.alarm))?_c('b-btn',{staticClass:\"text-danger\",attrs:{\"size\":\"lg\"},on:{\"click\":function($event){_vm.sendAction(_vm.meta.others.alarm)}}},[_vm._v(\"Сирена\"),_c('i',{staticClass:\"fa fa-bolt ml-2\"})]):_vm._e()],1),_c('b-col',{staticClass:\"w100\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('small',[_vm._v(\"Горячяя Вода \")])]),_c('div',[_c('small',[_vm._v(\"Холодная Вода \")])]),_c('div',[_c('small',[_vm._v(\"Электроэнергия\")])]),_c('div',[_c('small',[_vm._v(\"Погода\")])])]),_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('div',[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm._f(\"unwrap\")(_vm.meta.meters['Гор-Вода'],_vm.data),'hot')))])]),_c('div',[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm._f(\"unwrap\")(_vm.meta.meters['Хол-Вода'],_vm.data),'cold')))])]),_c('div',[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm._f(\"unwrap\")(_vm.meta.meters['Свет'],_vm.data),'power')))])]),_c('div',[_c('small',{staticClass:\"mr-2\"},[_c('i',{staticClass:\"fa fa-snowflake-o\"})]),_c('span',{staticClass:\"mr-2\"},[_vm._v(\"-18° \")]),_c('small',[_vm._v(\"Холодно\")])])])],1)],1)],1)],1),_c('b-card-group',{staticClass:\"uyi rooms\",attrs:{\"deck\":\"deck\"}},_vm._l((_vm.meta.rooms),function(g,k){return _c('b-card',{key:k,class:{'enabled':_vm.unstatus(g.light),'toggled':_vm.unvalue(g.light)},attrs:{\"disabled\":g.disabled,\"no-body\":\"no-body\",\"align\":\"center\"},on:{\"click\":function($event){_vm.sendAction(g.light)}}},[_c('b-card-header',[(_vm.unvalue(g.pir))?_c('i',{staticClass:\"fa fa-user-secret mr-1\"}):_vm._e(),_vm._v(_vm._s(g.name))]),_c('b-card-body',[_c('div',{staticClass:\"display pt-3\"},[(g.temp)?_c('div',{staticClass:\"temp\"},[_vm._v(_vm._s(_vm._f(\"numeric\")(_vm.unvalue(g.temp))))]):_vm._e(),(g.humidity)?_c('div',{staticClass:\"humidity\"},[_vm._v(_vm._s(_vm.unvalue(g.humidity)))]):_vm._e(),_c('div',{staticClass:\"sensors text-center\"},[(_vm.unvalue(g.fire))?_c('i',{staticClass:\"fa fa-fire text-danger mr-1\"}):_vm._e(),(_vm.unvalue(g.leak))?_c('i',{staticClass:\"fa fa-tint text-danger mr-1\"}):_vm._e(),(_vm.unstatus(g.valve))?_c('i',{staticClass:\"fa fa-ban text-danger mr-1\"}):_vm._e()])])])],1)}))],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-727387a8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-727387a8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-727387a8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\r\nb-card-group.uyi.devices(deck v-if=\"data && meta\")\r\n  template(v-for=\"(bus,s) in meta.slaves\")\r\n    b-card(\r\n      v-for=\"(reg,r) in bus.regs\"\r\n       :class=\"['hub'+s,reg.split('.'),bus.error,(bus.fake?'fake':''),(unvalue([s,r])==1?'enabled':'')]\"\r\n       :key=\"s+':'+r\"\r\n       no-body\r\n       v-if=\"reg && !reg.includes('CHANGE')\"\r\n       @click=\"sendAction([s,r])\"\r\n       Zmousedown=\"down([s,r])\"\r\n       Zmouseup=\"up([s,r])\"\r\n       align=\"center\")\r\n      b-card-header {{(reg)}}\r\n      b-card-body(:data-newvalue=\"unvalue([s,r])\")\r\n        transition(:name=\"reg.includes('METER')?'slide-fade':(reg.includes('RELAY')?'chuh':'blink')\" :duration=\"{ enter: 500}\" @leave=\"leave\" @enter=\"enter\" mode=\"out-in\")\r\n          h4.card-title.meters(v-if=\"reg.includes('METER')\" :key=\"unvalue([s,r])\")\r\n            | {{unvalue([s,r]) | numeric}}\r\n          h4.card-title(v-else :key=\"unvalue([s,r])\") {{unvalue([s,r])}}\r\n\r\n//- b-card-group.uyi.devices(deck)\r\n//-   template(v-for=\"(bus,s) in data.groups\")\r\n//-     b-card(\r\n//-       v-for=\"(value,i) in bus.devices\"\r\n//-        :class=\"['hub'+s,value.status,value.type,value.subtype,bus.error,(bus.fake||value.fake?'fake':''),(value.value==1?'enabled':''),(value.value==0||value.value==1?'':'numeric')]\"\r\n//-        :key=\"s+':'+i\"\r\n//-        no-body\r\n//-        @click=\"sendAction(s,i,value)\"\r\n//-        mousedown=\"down(s,i,value)\"\r\n//-        mouseup=\"up(s,i,value)\"\r\n//-        align=\"center\")\r\n//-       b-card-header {{(value.name)}}\r\n//-       b-card-body(:data-newvalue=\"value.value\")\r\n//-         transition(:name=\"value.subtype=='METER'?'slide-fade':(value.type=='switch'?'chuh':'blink')\" :duration=\"{ enter: 500}\" @leave=\"leave\" @enter=\"enter\" mode=\"out-in\")\r\n//-           h4.card-title.meters(v-if=\"value.subtype == 'METER'\" :key=\"value.value\")\r\n//-             | {{value.value | numeric | adjuster(value.type,adaptTemp)}} \r\n//-           h4.card-title(v-else :key=\"value.value\") {{value.value | humanizer(value.type,value.subtype)}}\r\n   \r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport actionMixin from '@/services/actionMixin'\r\n\r\n\r\nexport default {\r\n  name: 'List',\r\n  data(){\r\n    return {\r\n      home:{}\r\n    }\r\n  },\r\n  computed:{\r\n    unstatus(){\r\n      return (v) => window.unvalue(v,2,this.data)\r\n    },\r\n    unvalue(){\r\n      return (v) => window.unwrap(v,0,this.data)\r\n    },\r\n    meta(){\r\n      return this.$root.meta;\r\n    },\r\n    data(){\r\n      return this.$root.data;\r\n    }\r\n  },\r\n  mixins: [actionMixin],\r\n  methods:{\r\n    enter(el){\r\n      var newVal = el.parentElement.dataset.newvalue;\r\n      var oldVal = el.parentElement.dataset.value\r\n          el.parentElement.dataset.value = newVal\r\n      if(newVal!=0&&newVal!=1){\r\n          if(oldVal != null) {\r\n            if(newVal > oldVal) el.parentElement.dataset.dir = 'up'\r\n            else if(newVal < oldVal) el.parentElement.dataset.dir = 'down'\r\n            else el.parentElement.dataset.dir = ''\r\n          }\r\n      }\r\n    },\r\n    leave(el){\r\n      el.parentElement.dataset.dir = ''\r\n    },\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data && _vm.meta)?_c('b-card-group',{staticClass:\"uyi devices\",attrs:{\"deck\":\"deck\"}},[_vm._l((_vm.meta.slaves),function(bus,s){return _vm._l((bus.regs),function(reg,r){return (reg && !reg.includes('CHANGE'))?_c('b-card',{key:s+':'+r,class:['hub'+s,reg.split('.'),bus.error,(bus.fake?'fake':''),(_vm.unvalue([s,r])==1?'enabled':'')],attrs:{\"no-body\":\"no-body\",\"Zmousedown\":\"down([s,r])\",\"Zmouseup\":\"up([s,r])\",\"align\":\"center\"},on:{\"click\":function($event){_vm.sendAction([s,r])}}},[_c('b-card-header',[_vm._v(_vm._s((reg)))]),_c('b-card-body',{attrs:{\"data-newvalue\":_vm.unvalue([s,r])}},[_c('transition',{attrs:{\"name\":reg.includes('METER')?'slide-fade':(reg.includes('RELAY')?'chuh':'blink'),\"duration\":{ enter: 500},\"mode\":\"out-in\"},on:{\"leave\":_vm.leave,\"enter\":_vm.enter}},[(reg.includes('METER'))?_c('h4',{key:_vm.unvalue([s,r]),staticClass:\"card-title meters\"},[_vm._v(_vm._s(_vm._f(\"numeric\")(_vm.unvalue([s,r]))))]):_c('h4',{key:_vm.unvalue([s,r]),staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.unvalue([s,r])))])])],1)],1):_vm._e()})})],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2cbd5da4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2cbd5da4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2cbd5da4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Settings from '@/components/Settings'\r\nimport Home from '@/components/Home'\r\nimport List from '@/components/List'\r\n\r\n\r\nVue.use(Router)\r\n\r\nconst router =  new Router({\r\n  routes: [\r\n    {\r\n      path: '/settings',\r\n      component: Settings,\r\n      meta: { isPublic: true }\r\n    },\r\n    {\r\n      path: '/home',\r\n      component: Home,\r\n      meta: { isPublic: true }\r\n    },\r\n    {\r\n      path: '/list',\r\n      component: List,\r\n      meta: { isPublic: true }\r\n    },\r\n    { path: '*', redirect: '/home' }\r\n  ],\r\n  linkActiveClass : 'active',\r\n  onError(e){\r\n    console.error('Router Error',e);\r\n  }\r\n})\r\n/*\r\n// Auth Handling\r\nrouter.beforeEach((to, from, next) => {\r\n  \r\n  if (to.matched.every(record => record.meta.isPublic)) {\r\n    next() // make sure to always call next()!\r\n  } else {\r\n    // this route requires auth, check if logged in\r\n    // if not, redirect to login page or Login Modal\r\n    checkLoggedIn(this.a.app).then(ok=>{\r\n      ok ? next() : next({path: '/login',query: {redirect:to.fullPath}})\r\n      // ok ? next() : next('/login')      \r\n    }).catch(error=>{\r\n      console.error('route error',error);\r\n      next(error)\r\n    })\r\n  }\r\n})*/\r\n\r\n\r\nexport default router;\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","import axios from 'axios'\r\nimport {$http} from '@/api/http'\r\nimport MockAdapter from 'axios-mock-adapter'\r\nimport { WebSocket, Server } from 'mock-socket';\r\n\r\nvar data = {};\r\nvar meta = null;\r\n\r\nvar $mockServer \r\nvar $mock \r\n\r\naxios.get('/static/data/data.json').then((resp)=>{\r\n  data = resp.data;\r\n})\r\n\r\nif(localStorage.getItem('disableDemo') !== 'true'){\r\n\r\n  console.log('Enabling Mock Services');\r\n\r\n  $mock = new MockAdapter($http)\r\n  .onGet('/data.json').reply((cfg)=>{\r\n    console.log('providing fake data');\r\n    return [200,data];  \r\n  })\r\n  .onGet('/meta.json').reply((cfg)=>{ \r\n    return axios.get('/static/data/meta.json').then((resp)=>{\r\n      meta = resp.data;\r\n      console.log('providing fake metadata');\r\n      return [200,meta];  \r\n    })\r\n  })\r\n  .onGet('/write/*').reply((cfg)=>{ \r\n    return [200,'OK'];\r\n  })\r\n  .onAny().reply((cfg)=>{\r\n    return [200,'Badaboom'];\r\n  })\r\n\r\n  $mockServer = new Server(\"ws://\"+localStorage.getItem('url'));\r\n\r\n  window.WebSocket = WebSocket; // Here we stub out the window object\r\n    \r\n  $mockServer.on('connection', socket => {\r\n      console.log(\"started mock socket demo\",socket);\r\n      socket.on('close',() => {\r\n        console.log(\"stopping mock socket demo\");\r\n        window.clearInterval(interval);\r\n      });\r\n      demo(socket);\r\n  });\r\n\r\n}\r\n\r\n\r\nvar interval = null;\r\n\r\nfunction demo(socket){\r\n  window.clearInterval(interval);\r\n  interval = window.setInterval(()=>{\r\n\r\n      var slaves = Object.keys(data);\r\n      var randSlave = slaves[random(0,slaves.length-1)];\r\n      var regs = data[randSlave];\r\n      var randReg = random(0,regs.length-1);\r\n\r\n      var _json = {};\r\n      _json[randSlave] = regs;\r\n      _json[randSlave][randReg] = regs[randReg] > 1 ? random(10,100) : random(0,1) ;\r\n\r\n\r\n      // console.log(\"mock socket _json\",_json);\r\n\r\n      socket.send(JSON.stringify(_json));\r\n\r\n    },5000)\r\n}\r\n\r\nfunction random(min,max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/mock.js","import Vue from 'vue'\r\nimport numeral from 'numeral'\r\n\r\nnumeral.localeData().delimiters.thousands = ' ';\r\n\r\nVue.filter('date', function(value) {\r\n  if(!value) return \"\"\r\n  return value.toLocaleString('ru', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  }).initCap();\r\n});\r\n\r\nVue.filter('datetime', function(value) {\r\n  if(!value) return \"\"\r\n  return value.toLocaleString('ru', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour:'numeric',\r\n    minute:'numeric'\r\n  });\r\n});\r\n\r\nVue.filter('numeric', function (value) {\r\n  return numeral(value).format('0,0')\r\n})\r\n\r\nString.prototype.initCap = function () {\r\n   return this.toLowerCase().replace('г.','').replace(/(?:^|\\s)[a-zа-я]/g, function (m) {\r\n      return m.toUpperCase();\r\n   });\r\n};\r\n\r\n\r\n/***************/\r\n\r\nVue.filter('humanizer', function (value,type,subtype) {\r\n  if(subtype == 'SENSOR'){\r\n    // return value == 0?'NO':(value == 1?'YES':value)\r\n    return value == 0?'○':(value == 1?'●':value)\r\n  } else if( subtype == 'RELAY'){\r\n    if(type=='TOGGLE') \r\n      return value == 0?'DN':(value == 1?'UP':value)\r\n    else \r\n      return value == 0?'OFF':(value == 1?'ON':value)\r\n  } else {\r\n    return value == 0?'OFF':(value == 1?'ON':value)\r\n  }\r\n})\r\n\r\nVue.filter('adjuster', function (value,type,enabled) {\r\n  if(type == 'TEMP' && enabled){\r\n    return value - 4;\r\n  } \r\n  return value;\r\n})\r\n\r\nvar powerValue = null;\r\nvar powerCnt = 0;\r\n\r\nvar coldValue = null;\r\nvar coldCnt = 0;\r\n\r\nvar hotValue = null;\r\nvar hotCnt = 0;\r\n\r\nVue.filter('money', function (value,type) {\r\n  if(value == null) return '-';\r\n  if(type == 'cold'){\r\n     if(coldValue != value && coldValue != null){\r\n      coldCnt++;\r\n    }\r\n    coldValue = value;\r\n    return ((454+coldCnt*10)/1000).toFixed(2) + 'm3 ( '+value*5+'тг)';\r\n  }\r\n  if(type == 'hot'){\r\n    if(hotValue != value && hotValue != null){\r\n      hotCnt++;\r\n    }\r\n    hotValue = value;\r\n    return ((1095+hotCnt*10)/1000).toFixed(2) + 'm3 ('+value*10+'тг)';\r\n  } \r\n  if(type == 'power'){\r\n    if(powerValue != value && powerValue != null){\r\n      powerCnt++;\r\n    }\r\n    powerValue = value;\r\n    return ((15300+powerCnt*1000/3200)/1000).toFixed(2) + ' kW ('+Math.ceil(value*0.1)+'тг)';\r\n  } \r\n  return value\r\n})\r\n\r\n\r\nVue.filter('unwrap', function (value,data) {\r\n  return unwrap(value,0,data);\r\n})\r\n\r\nfunction unwrap(v,i,data){\r\n  if(!data) return null;\r\n  if(v && v[i] && data[v[i]] && data[v[i]][Math.abs(v[i+1])] != null){\r\n    if(v[i+1] < 0) // Проверка на инвертированные значения\r\n      return (data[v[0]][Math.abs(v[i+1])] == 1) ? 0 : 1;\r\n    else \r\n      return data[v[0]][Math.abs(v[i+1])];\r\n  } else {\r\n    return null\r\n  }\r\n\r\n}\r\n\r\nwindow.unwrap = unwrap;\n\n\n// WEBPACK FOOTER //\n// ./src/services/filters.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\nimport BootstrapVue from 'bootstrap-vue'\r\nimport AxiosVue from '@/services/axios'\r\n\r\nimport router from '@/router'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\n// import VueNativeSock from 'vue-native-websocket'\r\n\r\nimport '@/api/mock'\r\n\r\nVue.use(BootstrapVue)\r\n// Vue.use(ToggleButton)\r\nVue.use(AxiosVue)\r\n\r\nimport '@/services/filters.js'\r\nVue.config.productionTip = false\r\n\r\n\r\n// Global Functions\r\nVue.mixin({\r\n  methods: {\r\n    $resetData: function (emit) {\r\n      console.log('reset global data =', this.$options.name)\r\n      // reset data()\r\n      Object.assign(this.$data, this.$options.data.call(this));\r\n      if((emit !==null && emit) || ( emit == null)) this.$emit('reset',null) /// CAUTION! May Interefere with other local events\r\n    },\r\n    $_clone: function (val) {\r\n      return Object.assign({},val);\r\n    },\r\n    $: function (id) {\r\n      return document.querySelector(id)\r\n    },\r\n    $ArrayRemoveElement(arr,item){\r\n      let index = arr.indexOf(item);\r\n      if(index !== -1) {\r\n        arr.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  data () {\r\n    return {\r\n      fullscreen:false,\r\n      value:0,\r\n      meta:null,\r\n      data:null,\r\n    }\r\n  },\r\n  created(){\r\n    window.addEventListener(\"com\",this.read)\r\n    // this.$mqtt.on('connect', ()=>{ this.mqttOnline = true })\r\n    // this.$mqtt.on('offline', ()=>{ this.mqttOnline = false })\r\n    // this.handleScroll = new InfiniteList(this.$refs.infinite, 'contacts', this.$store)\r\n  },\r\n  mounted(){\r\n    // this.$mqtt.subscribe('bicafe/keyboard')\r\n  },\r\n  watch:{\r\n    \r\n  },\r\n  // mqtt: {\r\n  //   'bicafe/keyboard' (barcode) {\r\n  //     console.log('mqtt keypreesed',barcode.toString(),'red');\r\n  //   }\r\n  // },\r\n  beforeDestroy(){\r\n    window.removeEventListener(\"com\",this.read)\r\n  },\r\n  router,\r\n  methods:{\r\n    read(e){\r\n      // console.log('readed from listener',e.detail);\r\n      if(!isNaN(e.detail)) this.value = e.detail\r\n      else console.error('is not a number');\r\n    },\r\n    toggleFullScreen() {\r\n      if ((document.fullScreenElement && document.fullScreenElement !== null) ||    \r\n       (!document.mozFullScreen && !document.webkitIsFullScreen)) {\r\n        if (document.documentElement.requestFullScreen) {  \r\n          document.documentElement.requestFullScreen();  \r\n        } else if (document.documentElement.mozRequestFullScreen) {  \r\n          document.documentElement.mozRequestFullScreen();  \r\n        } else if (document.documentElement.webkitRequestFullScreen) {  \r\n          document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);  \r\n        } \r\n        this.fullscreen = true;\r\n      } else {  \r\n        if (document.cancelFullScreen) {  \r\n          document.cancelFullScreen();  \r\n        } else if (document.mozCancelFullScreen) {  \r\n          document.mozCancelFullScreen();  \r\n        } else if (document.webkitCancelFullScreen) {  \r\n          document.webkitCancelFullScreen();  \r\n        } \r\n        this.fullscreen = false;\r\n      }  \r\n    },\r\n  },\r\n  render: h => h(App)\r\n})\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}